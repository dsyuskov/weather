(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{22:function(e,t,n){e.exports=n(34)},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=n(13);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(6),l=n(7),u=n(9),h=n(8),d=n(2),p=n(10),m={en:{fullDayName:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},shortDayName:{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"},fullMonthName:{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},weather:{200:"Thunderstorm with light rain",201:"Thunderstorm with rain",202:"Thunderstorm with heavy rain",210:"Light thunderstorm",211:"Thunderstorm",212:"Heavy thunderstorm",221:"Ragged thunderstorm",230:"Thunderstorm with light drizzle",231:"Thunderstorm with drizzle",232:"Thunderstorm with heavy drizzle",300:"Light intensity drizzle",301:"Drizzle",302:"Heavy intensity drizzle",310:"Light intensity drizzle rain",311:"Drizzle rain",312:"Heavy intensity drizzle rain",313:"Shower rain and drizzle",314:"Heavy shower rain and drizzle",321:"Shower drizzle",500:"Light rain",501:"Moderate rain",502:"Heavy intensity rain",503:"Very heavy rain",504:"Extreme rain",511:"Freezing rain",520:"Light intensity shower rain",521:"Shower rain",522:"Heavy intensity shower rain",531:"Ragged shower rain",600:"Light snow",601:"Snow",602:"Heavy snow",611:"Sleet",612:"Light shower sleet",613:"Shower sleet",615:"Light rain and snow",616:"Rain and snow",620:"Light shower snow",621:"Shower snow",622:"Heavy shower snow",701:"Mist",711:"Smoke",721:"Haze",731:"Sand / dust whirls",741:"Fog",751:"Sand",761:"Dust",762:"Volcanic ash",771:"Squalls",781:"Tornado",800:"Clear sky",801:"Few clouds",802:"Scattered clouds",803:"Broken clouds",804:"Overcast clouds"},words:{feels:"Feels",wind:"Wind",humidity:"Humidity",search:"Search",lat:"Latitude",lon:"Longtitude"}},ru:{fullDayName:{0:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",1:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",2:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a",3:"\u0421\u0440\u0435\u0434\u0430",4:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433",5:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430",6:"\u0421\u0443\u0431\u0431\u043e\u0442\u0430"},shortDayName:{0:"\u0412\u0441",1:"\u041f\u043d",2:"\u0412\u0442",3:"\u0421\u0440",4:"\u0427\u0442",5:"\u041f\u0442",6:"\u0421\u0431"},fullMonthName:{0:"\u042f\u043d\u0432\u0430\u0440\u044f",1:"\u0424\u0435\u0432\u0440\u0430\u043b\u044f",2:"\u041c\u0430\u0440\u0442\u0430",3:"\u0410\u043f\u0440\u0435\u043b\u044f",4:"\u041c\u0430\u044f",5:"\u0418\u044e\u043d\u044f",6:"\u0418\u044e\u043b\u044f",7:"\u0410\u0432\u0433\u0443\u0441\u0442\u0430",8:"\u0421\u0435\u043d\u0442\u044f\u0440\u044f",9:"\u041e\u043a\u0442\u044f\u0431\u0440\u044f",10:"\u041d\u043e\u044f\u0431\u0440\u044f",11:"\u0414\u0435\u043a\u0430\u0431\u0440\u044f"},weather:{200:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0434\u043e\u0436\u0434\u0435\u043c",201:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u0434\u043e\u0436\u0434\u0435\u043c",202:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u0441\u0438\u043b\u044c\u043d\u044b\u043c \u0434\u043e\u0436\u0434\u0435\u043c",210:"\u041b\u0435\u0433\u043a\u0430\u044f \u0433\u0440\u043e\u0437\u0430",211:"\u0413\u0440\u043e\u0437\u0430",212:"\u0421\u0438\u043b\u044c\u043d\u0430\u044f \u0433\u0440\u043e\u0437\u0430",221:"\u0420\u0432\u0430\u043d\u0430\u044f \u0433\u0440\u043e\u0437\u0430",230:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u043c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u043c \u0434\u043e\u0436\u0434\u0435\u043c",231:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u043c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u043c \u0434\u043e\u0436\u0434\u0435\u043c",232:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u0441\u0438\u043b\u044c\u043d\u044b\u043c \u043c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u043c \u0434\u043e\u0436\u0434\u0435\u043c",300:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c",301:"\u041c\u043e\u0440\u043e\u0441\u044c",302:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c",310:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c",311:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c",312:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c \u0441\u0438\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u0438",313:"\u0414\u043e\u0436\u0434\u044c \u0438 \u0434\u043e\u0436\u0434\u044c \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",314:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u0438 \u0434\u043e\u0436\u0434\u044c",321:"\u0414\u043e\u0436\u0434\u044c",500:"\u0421\u043b\u0430\u0431\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",501:"\u0423\u043c\u0435\u0440\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",502:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",503:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",504:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",511:"\u041b\u0435\u0434\u044f\u043d\u043e\u0439 \u0434\u043e\u0436\u0434\u044c",520:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",521:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",522:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",531:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",600:"\u0421\u043b\u0430\u0431\u044b\u0439 \u0441\u043d\u0435\u0433",601:"\u0421\u043d\u0435\u0433",602:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u043d\u0435\u0433\u043e\u043f\u0430\u0434",611:"\u041c\u043e\u043a\u0440\u044b\u0439 \u0441\u043d\u0435\u0433",612:"\u0421\u043b\u0430\u0431\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u0441\u043e \u0441\u043d\u0435\u0433\u043e\u043c",613:"\u041c\u043e\u043a\u0440\u044b\u0439 \u0434\u0443\u0448",615:"\u041d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0434\u043e\u0436\u0434\u044c \u0438 \u0441\u043d\u0435\u0433",616:"\u0414\u043e\u0436\u0434\u044c \u0438 \u0441\u043d\u0435\u0433",620:"\u041b\u0435\u0433\u043a\u0438\u0439 \u0441\u043d\u0435\u0433\u043e\u043f\u0430\u0434",621:"\u0421\u043d\u0435\u0433 \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",622:"\u0421\u043d\u0435\u0433 \u043f\u043e\u0434 \u0441\u0438\u043b\u044c\u043d\u044b\u043c \u0434\u043e\u0436\u0434\u0435\u043c",701:"\u0422\u0443\u043c\u0430\u043d",711:"\u0414\u044b\u043c",721:"\u0414\u044b\u043c\u043a\u0430",731:"\u041f\u0435\u0441\u0447\u0430\u043d\u043e-\u043f\u044b\u043b\u0435\u0432\u044b\u0435 \u0432\u0438\u0445\u0440\u0438",741:"\u0422\u0443\u043c\u0430\u043d",751:"\u041f\u0435\u0441\u043e\u043a",761:"\u041f\u044b\u043b\u044c",762:"\u0412\u0443\u043b\u043a\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0435\u043f\u0435\u043b",771:"\u0428\u043a\u0432\u0430\u043b",781:"\u0422\u043e\u0440\u043d\u0430\u0434\u043e",800:"\u0427\u0438\u0441\u0442\u043e\u0435 \u043d\u0435\u0431\u043e",801:"\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u043a\u043e\u0432",802:"\u0420\u0430\u0441\u0441\u0435\u044f\u043d\u043d\u044b\u0435 \u043e\u0431\u043b\u0430\u043a\u0430",803:"\u0420\u0430\u0441\u0441\u0435\u044f\u043d\u043d\u044b\u0435 \u043e\u0431\u043b\u0430\u043a\u0430",804:"\u041f\u0430\u0441\u043c\u0443\u0440\u043d\u044b\u0435 \u043e\u0431\u043b\u0430\u043a\u0430"},words:{feels:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f",wind:"\u0412\u0435\u0442\u0435\u0440",humidity:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c",search:"\u041f\u043e\u0438\u0441\u043a",lat:"\u0428\u0438\u0440\u043e\u0442\u0430",lon:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430"}}};function g(e,t,n){return m[e][t][n]}function f(e){return Math.round(1.8*e+32)}function y(e){return e<10?["00","01","02","03","04","05","06","07","08","09"][e]:e}function w(e){return r.a.createElement("div",{className:"search"},r.a.createElement("form",{className:"search__form"},r.a.createElement("input",{className:"search__input",type:"text",placeholder:"Enter city name",onChange:e.onChange,value:e.value}),r.a.createElement("button",{className:"button search__button",onClick:function(t){e.onClick(),t.preventDefault()}},g(e.lang,"words","search"))))}var E=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={currentDateTime:""},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getCurrentDateTime",value:function(){var e=new Date;e.setUTCSeconds(e.getUTCSeconds()+this.props.weather.timezone);var t=g(this.props.lang,"shortDayName",e.getUTCDay()),n=e.getUTCDate(),a=g(this.props.lang,"fullMonthName",e.getUTCMonth()),r=y(e.getUTCHours()),o=y(e.getUTCMinutes());this.setState({currentDateTime:"".concat(t," ").concat(n," ").concat(a,"  ").concat(r,":").concat(o)})}},{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.getCurrentDateTime()}),10)}},{key:"componentWillMount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var e=this.props,t=e.weather,n=e.isCelsius,a=n?t.weather.temp:f(t.weather.temp),o=n?t.weather.feels:f(t.weather.feels);return r.a.createElement("div",{className:"weather-day"},r.a.createElement("div",{className:"weather-day__city"},t.city.name,", ",t.city.country),r.a.createElement("div",{className:"weather-day__date-time"},this.state.currentDateTime),r.a.createElement("div",{className:"weather-day__wrapper"},r.a.createElement("div",{className:"weather-day__temp"},r.a.createElement("div",{className:"weather-day__temp-value"},a),r.a.createElement("div",{className:"weather-day__temp-deg"},"\xb0")),r.a.createElement("div",{className:"weather-day__img"},r.a.createElement("img",{src:"./images/".concat(t.weather.icon,".png"),alt:""})),r.a.createElement("ul",{className:"weather-day__more"},r.a.createElement("li",{className:"weather-day__more-item"},g(this.props.lang,"weather",t.weather.id)),r.a.createElement("li",{className:"weather-day__more-item"},g(this.props.lang,"words","feels"),": ",o," \xb0"),r.a.createElement("li",{className:"weather-day__more-item"},g(this.props.lang,"words","wind"),": ",t.weather.wind.speed," m/c"),r.a.createElement("li",{className:"weather-day__more-item"},g(this.props.lang,"words","humidity"),": ",t.weather.humidity," %"))))}}]),t}(r.a.Component),v=n(17),C=n.n(v);C.a.accessToken="pk.eyJ1IjoieXVza292c3MiLCJhIjoiY2szNnRoODJuMDR2NTNubWhmZ2tyNHcweiJ9.nqpNmNuvXFtwx0VFoqqxGQ";var b=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={zoom:20},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.map=new C.a.Map({container:this.mapContainer,center:[this.props.lon,this.props.lat],style:"mapbox://styles/mapbox/streets-v9",zoom:10})}},{key:"componentDidUpdate",value:function(){this.map.setCenter([this.props.lon,this.props.lat])}},{key:"componentWillUnmount",value:function(){this.map.remove()}},{key:"render",value:function(){var e=this,t=(""+this.props.lat).split("."),n=(""+this.props.lon).split(".");return r.a.createElement("div",{className:"mapContainer"},r.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"},ref:function(t){return e.mapContainer=t},className:"map"}),r.a.createElement("div",null,g(this.props.lang,"words","lat"),": ",t[0],"\xb0",t[1],"'"),r.a.createElement("div",null,g(this.props.lang,"words","lon"),": ",n[0],"\xb0",n[1],"'"))}}]),t}(r.a.Component);function O(e){var t,n;return e.isCelsius?(t="button button--selected control-panel__celsius",n="button control-panel__faringate"):(t="button control-panel__celsius",n="button button--selected control-panel__faringate"),r.a.createElement("div",{className:"control-panel"},r.a.createElement("button",{className:"button control-panel__update",onClick:e.onClickUpdate}),r.a.createElement("select",{value:e.value,onChange:e.onChangeLang,className:"dropdown control-panel__lang"},r.a.createElement("option",{className:"dropdown__item",value:"en"},"en"),r.a.createElement("option",{className:"dropdown__item",value:"ru"},"ru")),r.a.createElement("button",{className:n,onClick:e.onClickFaringate},"\xb0 F"),r.a.createElement("button",{className:t,onClick:e.onClickCelsius},"\xb0 C"))}function _(e){var t=e.lang,n=e.forecast,a=e.isCelsius?n.temp:f(n.temp);return r.a.createElement("div",{className:"weather-forecast__day"},r.a.createElement("div",{className:"weather-forecast__weekday"},g(t,"fullDayName",n.weekDay)),r.a.createElement("div",{className:"weather-forecast__temp"},a,"\xb0"),r.a.createElement("div",{className:"weather-forecast__img"},r.a.createElement("img",{src:"./images/".concat(n.icon,".png"),alt:""})))}var k=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).onSearchChange=function(e){n.props.changeSearchString(e.target.value)},n.onChangeLang=function(e){n.props.changeLang(e.target.value),localStorage.setItem("lang",e.target.value)},n.onSearchChange=n.onSearchChange.bind(Object(d.a)(n)),n.onClickCelsius=n.onClickCelsius.bind(Object(d.a)(n)),n.onClickFaringate=n.onClickFaringate.bind(Object(d.a)(n)),n.onChangeLang=n.onChangeLang.bind(Object(d.a)(n)),n.onClick=n.onClick.bind(Object(d.a)(n)),n.onUpdateClick=n.onUpdateClick.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onClickCelsius",value:function(){this.props.changeUseCelsius(!0),localStorage.setItem("isCelsius",!0)}},{key:"onClickFaringate",value:function(){this.props.changeUseCelsius(!1),localStorage.setItem("isCelsius",!1)}},{key:"onClick",value:function(){var e=this.props,t=e.timesOfDay,n=e.season,a=e.weatherForBackground,r=e.searchString;this.props.getBackgroundImage("".concat(t,", ").concat(n,", ").concat(a)),this.props.getWeatherByCity(r,"metric"),localStorage.setItem("searchString",r)}},{key:"onUpdateClick",value:function(){var e=this.props,t=e.timesOfDay,n=e.season,a=e.weatherForBackground;this.props.getBackgroundImage("".concat(t,", ").concat(n,", ").concat(a))}},{key:"loadSetting",value:function(){"true"===this.props.isCelsius?this.onClickCelsius():this.onClickFaringate()}},{key:"componentDidUpdate",value:function(){document.body.style.background='url("'.concat(this.props.backgroundImage,'")'),document.body.style.backgroundSize="cover",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition="center center"}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.timesOfDay,a=t.season,r=t.weatherForBackground,o=t.searchString;this.loadSetting(),""===this.props.searchString?navigator.geolocation.getCurrentPosition((function(t){e.props.getWeatherByCoord(t.coords.latitude,t.coords.longitude)}),this.props.getWeatherByCoord):this.props.getWeatherByCity(o,"metric"),this.props.getBackgroundImage("".concat(n,", ").concat(a,", ").concat(r))}},{key:"render",value:function(){var e=this.props,t=e.weather,n=e.forecast,a=e.lang,o=e.isCelsius,c=e.searchString,i=e.isRequest,s=e.isRequestForecast;return i||s?r.a.createElement("div",{className:"async-spinner"}):(console.log(this.props),t.city?r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",{className:"header"},r.a.createElement(O,{value:a,isCelsius:o,onClickUpdate:this.onUpdateClick,onClickFaringate:this.onClickFaringate,onClickCelsius:this.onClickCelsius,onChangeLang:this.onChangeLang}),r.a.createElement(w,{lang:a,value:c,onChange:this.onSearchChange,onClick:this.onClick})),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"weather"},r.a.createElement(E,{lang:a,isCelsius:o,weather:t}),r.a.createElement("div",{className:"weather-forecast"},n&&r.a.createElement(_,{lang:a,isCelsius:o,forecast:n[0]}),n&&r.a.createElement(_,{lang:a,isCelsius:o,forecast:n[1]}),n&&r.a.createElement(_,{lang:a,isCelsius:o,forecast:n[2]}))),r.a.createElement(b,{lang:a,lat:t.city.coord.lat,lon:t.city.coord.lon}))):r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",{className:"header"},r.a.createElement(O,{value:a,isCelsius:o,onClickUpdate:this.onUpdateClick,onClickFaringate:this.onClickFaringate,onClickCelsius:this.onClickCelsius,onChangeLang:this.onChangeLang}),r.a.createElement(w,{lang:a,value:c,onChange:this.onSearchChange,onClick:this.onClick}))))}}]),t}(r.a.Component),S=n(11),T=n.n(S),j=n(18),D=function(e){return{type:"GET_WEATHER_FORECAST_REQUEST",payload:e}},N=function(e){return{type:"GET_WEATHER_FORECAST_FAILTURE",payload:e}},R=function(e,t){return function(t){t(D(!0)),fetch("".concat("https://api.openweathermap.org/data/2.5/").concat("forecast","?").concat("APPID=d5ecba2b149b9cdfb1fea656c735177d","&").concat("units=metric","&").concat("id=").concat(e)).then((function(e){if(!e.ok)throw Error(e.statusText);return t(D(!1)),e})).then((function(e){return e.json()})).then((function(e){t(N(!1)),t({type:"GET_WEATHER_FORECAST_SUCCESS",payload:function(e){for(var t=[],n=function(n){var a=new Date;a.setDate(a.getDate()+n+1);var r=a.getFullYear()+"-"+y(a.getMonth()+1)+"-"+y(a.getDate());t[n]={weekDay:a.getDay(),temp:Math.round(e.list.filter((function(e){return e.dt_txt.includes(r)})).reduce((function(e,t){return e+t.main.temp}),0)/8),icon:e.list.filter((function(e){return e.dt_txt.includes("".concat(r," 12:00:00"))}))[0].weather[0].icon}},a=0;a<3;a++)n(a);return t}(e)})})).catch((function(){return t(N(!0))}))}};var F=function(e){return{type:"GET_BACKGROUND_REQUEST",payload:e}},U=function(e){return{type:"GET_BACKGROUND_FAILTURE",payload:e}},A=function(e){return{type:"GET_WEATHER_FOR_BACKGROUND",payload:e}};var I=function(e){return{type:"GET_WEATHER_REQUEST",payload:e}},P=function(e){return{type:"GET_WEATHER_SUCCESS",payload:e}},G=function(e){return{type:"GET_WEATHER_FAILTURE",payload:e}};function z(e,t){return{id:e.id,date:e.dt,timezone:e.timezone,city:{name:e.name,country:t,coord:{lat:e.coord.lat,lon:e.coord.lon}},weather:{id:e.weather[0].id,temp:Math.round(e.main.temp),feels:Math.round(13.12+.6215*Math.round(e.main.temp)-11.37*Math.pow(e.wind.speed,.16)+.3965*Math.round(e.main.temp)*Math.pow(e.wind.speed,.16)),humidity:e.main.humidity,icon:e.weather[0].icon,wind:{deg:e.wind.deg,speed:e.wind.speed}}}}function H(){return B.apply(this,arguments)}function B(){return(B=Object(j.a)(T.a.mark((function e(){var t,n,a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://ipinfo.io/","token=0f3c2185f8d434",e.next=4,fetch("".concat("https://ipinfo.io/","?").concat("token=0f3c2185f8d434"));case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("getCoordsByIP failed, HTTP status ".concat(t.status));case 7:return e.next=9,t.json();case 9:return n=e.sent,a=n.loc,r=a.indexOf(","),e.abrupt("return",{lat:a.slice(0,r),lon:a.slice(r+1)});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=Object(i.b)((function(e){var t=e.weather,n=t.weather,a=t.isRequest,r=t.isError,o=e.forecast,c=o.forecast,i=o.isRequestForecast,s=o.isErrorForecast,l=e.controlPanel,u=l.lang,h=l.isCelsius,d=l.searchString,p=e.backgroundImage;return{searchString:d,isRequest:a,weather:n,isError:r,forecast:c,isRequestForecast:i,isErrorForecast:s,lang:u,isCelsius:h,backgroundImage:p.backgroundImage,timesOfDay:p.timesOfDay,season:p.season,weatherForBackground:p.weatherForBackground}}),(function(e){return{getWeatherByCity:function(t){return e(function(e){return function(t){t(I(!0)),fetch("".concat("https://api.openweathermap.org/data/2.5/").concat("weather","?").concat("APPID=d5ecba2b149b9cdfb1fea656c735177d","&").concat("units=metric","&").concat("q=").concat(e)).then((function(e){if(!e.ok)throw Error(e.statusText);return t(I(!1)),e})).then((function(e){return e.json()})).then((function(e){console.log(1),console.log(e.weather[0].main),t(R(e.id)),t(A(e.weather[0].main)),t(G(!1)),t(P(z(e)))})).catch((function(){return t(G(!0))}))}}(t))},getWeatherByCoord:function(t,n){return e(function(e,t){return function(){var n=Object(j.a)(T.a.mark((function n(a){var r;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a(I(!0)),r={lat:e,lon:t},t){n.next=6;break}return n.next=5,H();case 5:r=n.sent;case 6:fetch("".concat("https://api.openweathermap.org/data/2.5/").concat("weather","?").concat("APPID=d5ecba2b149b9cdfb1fea656c735177d","&").concat("units=metric","&lat=").concat(r.lat,"&lon=").concat(r.lon)).then((function(e){if(!e.ok)throw Error(e.statusText);return a(I(!1)),e})).then((function(e){return e.json()})).then((function(e){a(R(e.id)),a(A(e.weather[0].main)),a(G(!1)),a(P(z(e)))})).catch((function(){return a(G(!0))}));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},getWeatherForecast:function(t){return e(R(t))},changeLang:function(t){return e(function(e){return{type:"CHANGE_LANG",payload:e}}(t))},changeUseCelsius:function(t){return e(function(e){return{type:"USE_CELSIUS",payload:e}}(t))},changeSearchString:function(t){return e(function(e){return{type:"CHANGE_SEARCH_STRING",payload:e}}(t))},getBackgroundImage:function(t){return e(function(e){return function(t){t(F(!0)),e="city, "+e,fetch("".concat("https://www.flickr.com/services/rest","?").concat("api_key=ad367f61799facf14dd49982b162f318","&").concat("method=flickr.photos.search","&").concat("format=json&nojsoncallback=1","&").concat("text=").concat(e)).then((function(e){if(!e.ok)throw Error(e.statusText);return t(F(!1)),e})).then((function(e){return e.json()})).then((function(e){var n=Math.round(Math.random()*e.photos.photo.length);t(U(!1)),t(function(e){return{type:"GET_BACKGROUND_SUCCESS",payload:e}}(function(e){return"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,"_b.jpg")}(e.photos.photo[n])))})).catch((function(){return t(U(!0))}))}}(t))}}}))(k),M=n(4),W=n(21),x=n(3);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K={weather:"",isRequest:!1,isError:!1};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X={forecast:"",isRequestForecast:!1,isErrorForecast:!1};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={lang:localStorage.getItem("lang")?localStorage.getItem("lang"):"en",isCelsius:localStorage.getItem("isCelsius")?localStorage.getItem("isCelsius"):"true",searchString:localStorage.getItem("searchString")?localStorage.getItem("searchString"):""};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne={backgroundImage:"",timesOfDay:function(){var e=(new Date).getHours();return e>4&&e<8?"sunrise":e>=8&&e<11?"morning":e>=11&&e<13?"noon":e>=13&&e<16?"afternoon":e>=16&&e<22?"evening":"night"}(),season:function(){var e=(new Date).getMonth();return e>=2&&e<=4?"spring":e>=5&&e<=7?"summer":e>=8&&e<=10?"autumn":"winter"}(),weatherForBackground:"",isRequestBackgroundImage:!1,isErrorBackgroundImage:!1},ae=Object(M.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER_REQUEST":return J({},e,{isRequest:t.payload});case"GET_WEATHER_FAILTURE":return J({},e,{isError:t.payload});case"GET_WEATHER_SUCCESS":return J({},e,{weather:t.payload})}return e},forecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER_FORECAST_REQUEST":return V({},e,{isRequestForecast:t.payload});case"GET_WEATHER_FORECAST_FAILTURE":return V({},e,{isErrorForecast:t.payload});case"GET_WEATHER_FORECAST_SUCCESS":return V({},e,{forecast:t.payload})}return e},controlPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LANG":return Z({},e,{lang:t.payload});case"USE_CELSIUS":return Z({},e,{isCelsius:t.payload});case"CHANGE_SEARCH_STRING":return Z({},e,{searchString:t.payload})}return e},backgroundImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BACKGROUND_REQUEST":return te({},e,{isRequestBackgroundImage:t.payload});case"GET_BACKGROUND_SUCCESS":return te({},e,{backgroundImage:t.payload});case"GET_BACKGROUND_FAILTURE":return te({},e,{isErrorBackgroundImage:t.payload});case"GET_WEATHER_FOR_BACKGROUND":return te({},e,{weatherForBackground:t.payload})}return e}});n(33);var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(M.d)(ae,e,Object(M.a)(W.a))}();c.a.render(r.a.createElement(i.a,{store:re},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.a20a73ae.chunk.js.map