(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{22:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),i=a.n(o),c=a(13);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(6),l=a(7),u=a(9),d=a(8),h=a(2),m=a(10),p={en:{fullDayName:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},shortDayName:{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"},fullMonthName:{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},weather:{200:"Thunderstorm with light rain",201:"Thunderstorm with rain",202:"Thunderstorm with heavy rain",210:"Light thunderstorm",211:"Thunderstorm",212:"Heavy thunderstorm",221:"Ragged thunderstorm",230:"Thunderstorm with light drizzle",231:"Thunderstorm with drizzle",232:"Thunderstorm with heavy drizzle",300:"Light intensity drizzle",301:"Drizzle",302:"Heavy intensity drizzle",310:"Light intensity drizzle rain",311:"Drizzle rain",312:"Heavy intensity drizzle rain",313:"Shower rain and drizzle",314:"Heavy shower rain and drizzle",321:"Shower drizzle",500:"Light rain",501:"Moderate rain",502:"Heavy intensity rain",503:"Very heavy rain",504:"Extreme rain",511:"Freezing rain",520:"Light intensity shower rain",521:"Shower rain",522:"Heavy intensity shower rain",531:"Ragged shower rain",600:"Light snow",601:"Snow",602:"Heavy snow",611:"Sleet",612:"Light shower sleet",613:"Shower sleet",615:"Light rain and snow",616:"Rain and snow",620:"Light shower snow",621:"Shower snow",622:"Heavy shower snow",701:"Mist",711:"Smoke",721:"Haze",731:"Sand / dust whirls",741:"Fog",751:"Sand",761:"Dust",762:"Volcanic ash",771:"Squalls",781:"Tornado",800:"Clear sky",801:"Few clouds",802:"Scattered clouds",803:"Broken clouds",804:"Overcast clouds"},words:{feels:"Feels",wind:"Wind",humidity:"Humidity",search:"Search",lat:"Latitude",lon:"Longtitude"}},ru:{fullDayName:{0:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",1:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",2:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a",3:"\u0421\u0440\u0435\u0434\u0430",4:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433",5:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430",6:"\u0421\u0443\u0431\u0431\u043e\u0442\u0430"},shortDayName:{0:"\u0412\u0441",1:"\u041f\u043d",2:"\u0412\u0442",3:"\u0421\u0440",4:"\u0427\u0442",5:"\u041f\u0442",6:"\u0421\u0431"},fullMonthName:{0:"\u042f\u043d\u0432\u0430\u0440\u044f",1:"\u0424\u0435\u0432\u0440\u0430\u043b\u044f",2:"\u041c\u0430\u0440\u0442\u0430",3:"\u0410\u043f\u0440\u0435\u043b\u044f",4:"\u041c\u0430\u044f",5:"\u0418\u044e\u043d\u044f",6:"\u0418\u044e\u043b\u044f",7:"\u0410\u0432\u0433\u0443\u0441\u0442\u0430",8:"\u0421\u0435\u043d\u0442\u044f\u0440\u044f",9:"\u041e\u043a\u0442\u044f\u0431\u0440\u044f",10:"\u041d\u043e\u044f\u0431\u0440\u044f",11:"\u0414\u0435\u043a\u0430\u0431\u0440\u044f"},weather:{200:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0434\u043e\u0436\u0434\u0435\u043c",201:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u0434\u043e\u0436\u0434\u0435\u043c",202:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u0441\u0438\u043b\u044c\u043d\u044b\u043c \u0434\u043e\u0436\u0434\u0435\u043c",210:"\u041b\u0435\u0433\u043a\u0430\u044f \u0433\u0440\u043e\u0437\u0430",211:"\u0413\u0440\u043e\u0437\u0430",212:"\u0421\u0438\u043b\u044c\u043d\u0430\u044f \u0433\u0440\u043e\u0437\u0430",221:"\u0420\u0432\u0430\u043d\u0430\u044f \u0433\u0440\u043e\u0437\u0430",230:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u043c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u043c \u0434\u043e\u0436\u0434\u0435\u043c",231:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u043c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u043c \u0434\u043e\u0436\u0434\u0435\u043c",232:"\u0413\u0440\u043e\u0437\u0430 \u0441 \u0441\u0438\u043b\u044c\u043d\u044b\u043c \u043c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u043c \u0434\u043e\u0436\u0434\u0435\u043c",300:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c",301:"\u041c\u043e\u0440\u043e\u0441\u044c",302:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c",310:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c",311:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c",312:"\u041c\u043e\u0440\u043e\u0441\u044f\u0449\u0438\u0439 \u0434\u043e\u0436\u0434\u044c \u0441\u0438\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u0438",313:"\u0414\u043e\u0436\u0434\u044c \u0438 \u0434\u043e\u0436\u0434\u044c \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",314:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u0438 \u0434\u043e\u0436\u0434\u044c",321:"\u0414\u043e\u0436\u0434\u044c",500:"\u0421\u043b\u0430\u0431\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",501:"\u0423\u043c\u0435\u0440\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",502:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",503:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",504:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",511:"\u041b\u0435\u0434\u044f\u043d\u043e\u0439 \u0434\u043e\u0436\u0434\u044c",520:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",521:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c",522:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",531:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",600:"\u0421\u043b\u0430\u0431\u044b\u0439 \u0441\u043d\u0435\u0433",601:"\u0421\u043d\u0435\u0433",602:"\u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u043d\u0435\u0433\u043e\u043f\u0430\u0434",611:"\u041c\u043e\u043a\u0440\u044b\u0439 \u0441\u043d\u0435\u0433",612:"\u0421\u043b\u0430\u0431\u044b\u0439 \u0434\u043e\u0436\u0434\u044c \u0441\u043e \u0441\u043d\u0435\u0433\u043e\u043c",613:"\u041c\u043e\u043a\u0440\u044b\u0439 \u0434\u0443\u0448",615:"\u041d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0434\u043e\u0436\u0434\u044c \u0438 \u0441\u043d\u0435\u0433",616:"\u0414\u043e\u0436\u0434\u044c \u0438 \u0441\u043d\u0435\u0433",620:"\u041b\u0435\u0433\u043a\u0438\u0439 \u0441\u043d\u0435\u0433\u043e\u043f\u0430\u0434",621:"\u0421\u043d\u0435\u0433 \u043f\u043e\u0434 \u0434\u043e\u0436\u0434\u0435\u043c",622:"\u0421\u043d\u0435\u0433 \u043f\u043e\u0434 \u0441\u0438\u043b\u044c\u043d\u044b\u043c \u0434\u043e\u0436\u0434\u0435\u043c",701:"\u0422\u0443\u043c\u0430\u043d",711:"\u0414\u044b\u043c",721:"\u0414\u044b\u043c\u043a\u0430",731:"\u041f\u0435\u0441\u0447\u0430\u043d\u043e-\u043f\u044b\u043b\u0435\u0432\u044b\u0435 \u0432\u0438\u0445\u0440\u0438",741:"\u0422\u0443\u043c\u0430\u043d",751:"\u041f\u0435\u0441\u043e\u043a",761:"\u041f\u044b\u043b\u044c",762:"\u0412\u0443\u043b\u043a\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0435\u043f\u0435\u043b",771:"\u0428\u043a\u0432\u0430\u043b",781:"\u0422\u043e\u0440\u043d\u0430\u0434\u043e",800:"\u0427\u0438\u0441\u0442\u043e\u0435 \u043d\u0435\u0431\u043e",801:"\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u043a\u043e\u0432",802:"\u0420\u0430\u0441\u0441\u0435\u044f\u043d\u043d\u044b\u0435 \u043e\u0431\u043b\u0430\u043a\u0430",803:"\u0420\u0430\u0441\u0441\u0435\u044f\u043d\u043d\u044b\u0435 \u043e\u0431\u043b\u0430\u043a\u0430",804:"\u041f\u0430\u0441\u043c\u0443\u0440\u043d\u044b\u0435 \u043e\u0431\u043b\u0430\u043a\u0430"},words:{feels:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f",wind:"\u0412\u0435\u0442\u0435\u0440",humidity:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c",search:"\u041f\u043e\u0438\u0441\u043a",lat:"\u0428\u0438\u0440\u043e\u0442\u0430",lon:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430"}}};function g(e,t,a){return p[e][t][a]}function y(e){return Math.round(1.8*e+32)}function f(e){return e<10?"0".concat(e):e}function C(e){return r.a.createElement("div",{className:"search"},r.a.createElement("form",{className:"search__form"},r.a.createElement("input",{className:"search__input",type:"text",placeholder:"Enter city name",onChange:e.onChange,value:e.value}),r.a.createElement("button",{className:"button search__button",onClick:function(t){e.onClick(),t.preventDefault()}},g(e.lang,"words","search"))))}var E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={currentDateTime:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getCurrentDateTime",value:function(){var e=new Date;e.setUTCSeconds(e.getUTCSeconds()+this.props.weather.timezone);var t=g(this.props.lang,"shortDayName",e.getUTCDay()),a=e.getUTCDate(),n=g(this.props.lang,"fullMonthName",e.getUTCMonth()),r=f(e.getUTCHours()),o=f(e.getUTCMinutes());this.setState({currentDateTime:"".concat(t," ").concat(a," ").concat(n,"  ").concat(r,":").concat(o)})}},{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.getCurrentDateTime()}),10)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var e=this.props,t=e.weather,a=e.isCelsius,n=a?t.weather.temp:y(t.weather.temp),o=a?t.weather.feels:y(t.weather.feels);return r.a.createElement("div",{className:"weather-day"},r.a.createElement("div",{className:"weather-day__city"},t.city.name,", ",t.city.country),r.a.createElement("div",{className:"weather-day__date-time"},this.state.currentDateTime),r.a.createElement("div",{className:"weather-day__wrapper"},r.a.createElement("div",{className:"weather-day__temp"},r.a.createElement("div",{className:"weather-day__temp-value"},n),r.a.createElement("div",{className:"weather-day__temp-deg"},"\xb0")),r.a.createElement("div",{className:"weather-day__img"},r.a.createElement("img",{src:"./images/".concat(t.weather.icon,".png"),alt:""})),r.a.createElement("ul",{className:"weather-day__more"},r.a.createElement("li",{className:"weather-day__more-item"},g(this.props.lang,"weather",t.weather.id)),r.a.createElement("li",{className:"weather-day__more-item"},g(this.props.lang,"words","feels"),": ",o," \xb0"),r.a.createElement("li",{className:"weather-day__more-item"},g(this.props.lang,"words","wind"),": ",t.weather.wind.speed," m/c"),r.a.createElement("li",{className:"weather-day__more-item"},g(this.props.lang,"words","humidity"),": ",t.weather.humidity," %"))))}}]),t}(r.a.Component),w=a(17),b=a.n(w);b.a.accessToken="pk.eyJ1IjoieXVza292c3MiLCJhIjoiY2szNnRoODJuMDR2NTNubWhmZ2tyNHcweiJ9.nqpNmNuvXFtwx0VFoqqxGQ";var S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={zoom:20},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.map=new b.a.Map({container:this.mapContainer,center:[this.props.lon,this.props.lat],style:"mapbox://styles/mapbox/streets-v9",zoom:10})}},{key:"componentDidUpdate",value:function(){this.map.setCenter([this.props.lon,this.props.lat])}},{key:"componentWillUnmount",value:function(){this.map.remove()}},{key:"render",value:function(){var e=this,t=(""+this.props.lat).split("."),a=(""+this.props.lon).split(".");return r.a.createElement("div",{className:"geoposition"},r.a.createElement("div",{className:"mapContainer"},r.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"},ref:function(t){return e.mapContainer=t},className:"map"})),r.a.createElement("p",null,g(this.props.lang,"words","lat"),": ",t[0],"\xb0",t[1],"'"),r.a.createElement("p",null,g(this.props.lang,"words","lon"),": ",a[0],"\xb0",a[1],"'"))}}]),t}(r.a.Component);function v(e){var t,a;return e.isCelsius?(t="button button--selected control-panel__celsius",a="button control-panel__faringate"):(t="button control-panel__celsius",a="button button--selected control-panel__faringate"),r.a.createElement("div",{className:"control-panel"},r.a.createElement("button",{className:"button control-panel__update",onClick:e.onClickUpdate}),r.a.createElement("select",{value:e.value,onChange:e.onChangeLang,className:"dropdown control-panel__lang"},r.a.createElement("option",{className:"dropdown__item",value:"en"},"en"),r.a.createElement("option",{className:"dropdown__item",value:"ru"},"ru")),r.a.createElement("button",{className:a,onClick:e.onClickFaringate},"\xb0 F"),r.a.createElement("button",{className:t,onClick:e.onClickCelsius},"\xb0 C"))}function O(e){var t=e.lang,a=e.forecast,n=e.isCelsius?a.temp:y(a.temp);return r.a.createElement("div",{className:"weather-forecast__day"},r.a.createElement("div",{className:"weather-forecast__weekday"},g(t,"fullDayName",a.weekDay)),r.a.createElement("div",{className:"weather-forecast__temp"},n,"\xb0"),r.a.createElement("div",{className:"weather-forecast__img"},r.a.createElement("img",{src:"./images/".concat(a.icon,".png"),alt:""})))}var T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onSearchChange=function(e){a.props.changeSearchString(e.target.value)},a.onChangeLang=function(e){a.props.changeLang(e.target.value),localStorage.setItem("lang",e.target.value)},a.onSearchChange=a.onSearchChange.bind(Object(h.a)(a)),a.onClickCelsius=a.onClickCelsius.bind(Object(h.a)(a)),a.onClickFaringate=a.onClickFaringate.bind(Object(h.a)(a)),a.onChangeLang=a.onChangeLang.bind(Object(h.a)(a)),a.onClick=a.onClick.bind(Object(h.a)(a)),a.onUpdateClick=a.onUpdateClick.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onClickCelsius",value:function(){this.props.changeUseCelsius(!0),localStorage.setItem("isCelsius",!0)}},{key:"onClickFaringate",value:function(){this.props.changeUseCelsius(!1),localStorage.setItem("isCelsius",!1)}},{key:"onClick",value:function(){var e=this.props,t=e.timesOfDay,a=e.season,n=e.weatherForBackground,r=e.searchString;this.props.getBackgroundImage("".concat(t,", ").concat(a,", ").concat(n)),this.props.getWeatherByCity(r,"metric"),localStorage.setItem("searchString",r)}},{key:"onUpdateClick",value:function(){var e=this.props,t=e.timesOfDay,a=e.season,n=e.weatherForBackground;this.props.getBackgroundImage("".concat(t,", ").concat(a,", ").concat(n))}},{key:"loadSetting",value:function(){"true"===this.props.isCelsius?this.onClickCelsius():this.onClickFaringate()}},{key:"componentDidUpdate",value:function(){document.body.style.background='url("'.concat(this.props.backgroundImage,'")'),document.body.style.backgroundSize="cover",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition="center center",document.body.style.backgroundAttachment="fixed"}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.timesOfDay,n=t.season,r=t.weatherForBackground,o=t.searchString;this.loadSetting(),this.props.getBackgroundImage("".concat(a,", ").concat(n,", ").concat(r)),""===this.props.searchString?navigator.geolocation.getCurrentPosition((function(t){e.props.getWeatherByCoord(t.coords.latitude,t.coords.longitude)}),this.props.getWeatherByCoord):this.props.getWeatherByCity(o,"metric")}},{key:"render",value:function(){var e=this.props,t=e.weather,a=e.forecast,n=e.lang,o=e.isCelsius,i=e.searchString,c=e.isRequestWeather,s=e.isRequestForecast,l=e.isRequestBackgroundImage;return c||s||l?r.a.createElement("div",{className:"async-spinner"}):t.city?r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",{className:"header"},r.a.createElement(v,{value:n,isCelsius:o,onClickUpdate:this.onUpdateClick,onClickFaringate:this.onClickFaringate,onClickCelsius:this.onClickCelsius,onChangeLang:this.onChangeLang}),r.a.createElement(C,{lang:n,value:i,onChange:this.onSearchChange,onClick:this.onClick})),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"weather"},r.a.createElement(E,{lang:n,isCelsius:o,weather:t}),r.a.createElement("div",{className:"weather-forecast"},a&&r.a.createElement(O,{lang:n,isCelsius:o,forecast:a[0]}),a&&r.a.createElement(O,{lang:n,isCelsius:o,forecast:a[1]}),a&&r.a.createElement(O,{lang:n,isCelsius:o,forecast:a[2]}))),r.a.createElement(S,{lang:n,lat:t.city.coord.lat,lon:t.city.coord.lon}))):r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",{className:"header"},r.a.createElement(v,{value:n,isCelsius:o,onClickUpdate:this.onUpdateClick,onClickFaringate:this.onClickFaringate,onClickCelsius:this.onClickCelsius,onChangeLang:this.onChangeLang}),r.a.createElement(C,{lang:n,value:i,onChange:this.onSearchChange,onClick:this.onClick})))}}]),t}(r.a.Component),k=a(11),_=a.n(k),N=a(18),M=function(e){return{type:"GET_WEATHER_FORECAST_REQUEST",payload:e}},A=function(e){return{type:"GET_WEATHER_FORECAST_FAILTURE",payload:e}},R=function(e){return function(t){t(M(!0)),fetch("".concat("https://api.openweathermap.org/data/2.5/").concat("forecast","?").concat("APPID=d5ecba2b149b9cdfb1fea656c735177d","&").concat("units=metric","&").concat("id=").concat(e)).then((function(e){if(!e.ok)throw Error(e.statusText);return t(M(!1)),e})).then((function(e){return e.json()})).then((function(e){t(A(!1)),t({type:"GET_WEATHER_FORECAST_SUCCESS",payload:function(e){for(var t=[],a=function(a){var n=new Date;n.setDate(n.getDate()+a+1);var r="".concat(n.getFullYear(),"-").concat(f(n.getMonth()+1),"-").concat(f(n.getDate()));t[a]={weekDay:n.getDay(),temp:Math.round(e.list.filter((function(e){return e.dt_txt.includes(r)})).reduce((function(e,t){return e+t.main.temp}),0)/8),icon:e.list.filter((function(e){return e.dt_txt.includes("".concat(r," 12:00:00"))}))[0].weather[0].icon}},n=0;n<3;n+=1)a(n);return t}(e)})})).catch((function(){return t(A(!0))}))}};var I=function(e){return{type:"GET_BACKGROUND_REQUEST",payload:e}},D=function(e){return{type:"GET_BACKGROUND_FAILTURE",payload:e}},G=function(e){return{type:"GET_WEATHER_FOR_BACKGROUND",payload:e}};var B={BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BQ:"Bonaire, Saint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize",RU:"Russia",RW:"Rwanda",RS:"Serbia",TL:"East Timor",RE:"Reunion",TM:"Turkmenistan",TJ:"Tajikistan",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",EE:"Estonia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Democratic Republic of the Congo",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CW:"Curacao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",TO:"Tonga",LT:"Lithuania",LU:"Luxembourg",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",AO:"Angola",AQ:"Antarctica",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"},j=function(e){return{type:"GET_WEATHER_REQUEST",payload:e}},U=function(e){return{type:"GET_WEATHER_SUCCESS",payload:e}},F=function(e){return{type:"GET_WEATHER_FAILTURE",payload:e}};function P(e){return{id:e.id,date:e.dt,timezone:e.timezone,city:{name:e.name,country:B[e.sys.country],coord:{lat:e.coord.lat,lon:e.coord.lon}},weather:{id:e.weather[0].id,temp:Math.round(e.main.temp),feels:Math.round(13.12+.6215*Math.round(e.main.temp)-11.37*Math.pow(e.wind.speed,.16)+.3965*Math.round(e.main.temp)*Math.pow(e.wind.speed,.16)),humidity:e.main.humidity,icon:e.weather[0].icon,wind:{deg:e.wind.deg,speed:e.wind.speed}}}}function L(){return H.apply(this,arguments)}function H(){return(H=Object(N.a)(_.a.mark((function e(){var t,a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://ipinfo.io/","token=0f3c2185f8d434",e.next=4,fetch("".concat("https://ipinfo.io/","?").concat("token=0f3c2185f8d434"));case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("getCoordsByIP failed, HTTP status ".concat(t.status));case 7:return e.next=9,t.json();case 9:return a=e.sent,n=a.loc,r=n.indexOf(","),e.abrupt("return",{lat:n.slice(0,r),lon:n.slice(r+1)});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=Object(c.b)((function(e){var t=e.weather,a=t.weather,n=t.isRequestWeather,r=t.isError,o=e.forecast,i=o.forecast,c=o.isRequestForecast,s=o.isErrorForecast,l=e.controlPanel,u=l.lang,d=l.isCelsius,h=l.searchString,m=e.backgroundImage,p=m.backgroundImage,g=m.timesOfDay,y=m.season,f=m.weatherForBackground;return{isRequestWeather:n,isRequestForecast:c,isRequestBackgroundImage:m.isRequestBackgroundImage,searchString:h,weather:a,isError:r,forecast:i,isErrorForecast:s,lang:u,isCelsius:d,backgroundImage:p,timesOfDay:g,season:y,weatherForBackground:f}}),(function(e){return{getWeatherByCity:function(t){return e(function(e){return function(t){t(j(!0)),fetch("".concat("https://api.openweathermap.org/data/2.5/").concat("weather","?").concat("APPID=d5ecba2b149b9cdfb1fea656c735177d","&").concat("units=metric","&").concat("q=").concat(e)).then((function(e){if(!e.ok)throw Error(e.statusText);return t(j(!1)),e})).then((function(e){return e.json()})).then((function(e){t(R(e.id)),t(G(e.weather[0].main)),t(F(!1)),t(U(P(e)))})).catch((function(){return t(F(!0))}))}}(t))},getWeatherByCoord:function(t,a){return e(function(e,t){return function(){var a=Object(N.a)(_.a.mark((function a(n){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n(j(!0)),r={lat:e,lon:t},t){a.next=6;break}return a.next=5,L();case 5:r=a.sent;case 6:fetch("".concat("https://api.openweathermap.org/data/2.5/").concat("weather","?").concat("APPID=d5ecba2b149b9cdfb1fea656c735177d","&").concat("units=metric","&lat=").concat(r.lat,"&lon=").concat(r.lon)).then((function(e){if(!e.ok)throw Error(e.statusText);return n(j(!1)),e})).then((function(e){return e.json()})).then((function(e){n(R(e.id)),n(G(e.weather[0].main)),n(F(!1)),n(U(P(e)))})).catch((function(){return n(F(!0))}));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},getWeatherForecast:function(t){return e(R(t))},changeLang:function(t){return e(function(e){return{type:"CHANGE_LANG",payload:e}}(t))},changeUseCelsius:function(t){return e(function(e){return{type:"USE_CELSIUS",payload:e}}(t))},changeSearchString:function(t){return e(function(e){return{type:"CHANGE_SEARCH_STRING",payload:e}}(t))},getBackgroundImage:function(t){return e(function(e){return function(t){t(I(!0));var a="city, ".concat(e);fetch("".concat("https://www.flickr.com/services/rest","?").concat("api_key=ad367f61799facf14dd49982b162f318","&").concat("method=flickr.photos.search","&").concat("format=json&nojsoncallback=1","&").concat("text=").concat(a)).then((function(e){if(!e.ok)throw Error(e.statusText);return t(I(!1)),e})).then((function(e){return e.json()})).then((function(e){var a=Math.round(Math.random()*e.photos.photo.length);t(D(!1)),t(function(e){return{type:"GET_BACKGROUND_SUCCESS",payload:e}}(function(e){return"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,"_b.jpg")}(e.photos.photo[a])))})).catch((function(){return t(D(!0))}))}}(t))}}}))(T),z=a(4),K=a(21),q=a(3);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(q.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J={weather:"",isRequestWeather:!1,isError:!1};function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(q.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y={forecast:"",isRequestForecast:!1,isErrorForecast:!1};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(q.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee={lang:localStorage.getItem("lang")?localStorage.getItem("lang"):"en",isCelsius:localStorage.getItem("isCelsius")?localStorage.getItem("isCelsius"):"true",searchString:""};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(q.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne={backgroundImage:"",timesOfDay:function(){var e=(new Date).getHours();return e>4&&e<8?"sunrise":e>=8&&e<11?"morning":e>=11&&e<13?"noon":e>=13&&e<16?"afternoon":e>=16&&e<22?"evening":"night"}(),season:function(){var e=(new Date).getMonth();return e>=2&&e<=4?"spring":e>=5&&e<=7?"summer":e>=8&&e<=10?"autumn":"winter"}(),weatherForBackground:"",isRequestBackgroundImage:!1,isErrorBackgroundImage:!1},re=Object(z.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER_REQUEST":return V({},e,{isRequestWeather:t.payload});case"GET_WEATHER_FAILTURE":return V({},e,{isError:t.payload});case"GET_WEATHER_SUCCESS":return V({},e,{weather:t.payload})}return e},forecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER_FORECAST_REQUEST":return Q({},e,{isRequestForecast:t.payload});case"GET_WEATHER_FORECAST_FAILTURE":return Q({},e,{isErrorForecast:t.payload});case"GET_WEATHER_FORECAST_SUCCESS":return Q({},e,{forecast:t.payload})}return e},controlPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LANG":return $({},e,{lang:t.payload});case"USE_CELSIUS":return $({},e,{isCelsius:t.payload});case"CHANGE_SEARCH_STRING":return $({},e,{searchString:t.payload})}return e},backgroundImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BACKGROUND_REQUEST":return ae({},e,{isRequestBackgroundImage:t.payload});case"GET_BACKGROUND_SUCCESS":return ae({},e,{backgroundImage:t.payload});case"GET_BACKGROUND_FAILTURE":return ae({},e,{isErrorBackgroundImage:t.payload});case"GET_WEATHER_FOR_BACKGROUND":return ae({},e,{weatherForBackground:t.payload})}return e}});a(33);var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(z.d)(re,e,Object(z.a)(K.a))}();i.a.render(r.a.createElement(c.a,{store:oe},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.c5f900d8.chunk.js.map